<form [formGroup]="form">
  <div class="pushButtonGroups" *ngIf="datasource.options.ogcFilters.pushButtons">
    <mat-divider class="sectionDivider"></mat-divider>
    <div class="selector" *ngIf="getPushButtonsGroups().length > 1">
      <mat-form-field>
        <mat-select tooltip-position="below" matTooltipShowDelay="500" formControlName="pushButtonsGroup"
          [matTooltip]="'igo.geo.layer.legend.selectStyle' | translate" [(value)]="currentPushButtonsGroup">
          <mat-option *ngFor="let selectorg of getPushButtonsGroups()" [value]="selectorg">{{selectorg.title}}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <ng-container *ngFor="let bundle of currentPushButtonsGroup.computedSelectors">
      <h4>{{bundle.title}}</h4>
      <mat-button-toggle-group formControlName="pushButtons" class="mat-typography" appearance="legacy"
        vertical={{bundleIsVertical(bundle)}} multiple="true">
        <mat-button-toggle [ngStyle]="getButtonColor(ogcPushButton)" [checked]="ogcPushButton.enabled"
          (change)="onSelectionChange(ogcPushButton)" tooltip-position="below" matTooltipShowDelay="500"
          [matTooltip]="getToolTip(ogcPushButton)" matTooltipClass="material-tooltip"
          *ngFor="let ogcPushButton of bundle.selectors" [value]="ogcPushButton">{{ogcPushButton.title}}
        </mat-button-toggle>
      </mat-button-toggle-group>
    </ng-container>
  </div>
  <div class="checkboxGroups" *ngIf="datasource.options.ogcFilters.checkboxes">
    <mat-divider class="sectionDivider"></mat-divider>
    <div class="selector" *ngIf="getCheckboxesGroups().length > 1">
      <mat-form-field>
        <mat-select tooltip-position="below" matTooltipShowDelay="500" formControlName="checkboxesGroup"
          [matTooltip]="'igo.geo.layer.legend.selectStyle' | translate" [(value)]="currentCheckboxesGroup">
          <mat-option *ngFor="let selectorg of getCheckboxesGroups()" [value]="selectorg">{{selectorg.title}}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <ng-container *ngFor="let bundle of currentCheckboxesGroup.computedSelectors">
      <h4>{{bundle.title}}</h4>
      <div class="checkboxes mat-typography" appearance="legacy" multiple="true">
        <mat-checkbox [checked]="ogcCheckbox.enabled" formControlName="checkboxes"
          (change)="onSelectionChange(ogcCheckbox)" tooltip-position="below" matTooltipShowDelay="500"
          [matTooltip]="getToolTip(ogcCheckbox)" matTooltipClass="material-tooltip"
          *ngFor="let ogcCheckbox of getCurrentCheckboxesSelectors(bundle)" [value]="ogcCheckbox">{{ogcCheckbox.title}}
        </mat-checkbox>
      </div>
      <span *ngIf="isLessResults(bundle, 'checkbox') || isMoreResults(bundle, 'checkbox')">
        <u class="lessResults mat-typography" *ngIf="isLessResults(bundle, 'checkbox')" (click)="displayLessResults('checkbox')">
          {{ 'igo.geo.filter.displayLessResults' | translate }}
        </u>
        <u class="moreResults mat-typography" *ngIf="isMoreResults(bundle, 'checkbox')" (click)="displayMoreResults('checkbox')">
          {{ 'igo.geo.filter.displayMoreResults' | translate }}
        </u>
        <br>
      </span>
      <mat-divider class="bundleDivider"></mat-divider>
    </ng-container>
  </div>
  <div class="radioButtonGroups" *ngIf="datasource.options.ogcFilters.radioButtons">
    <mat-divider class="sectionDivider"></mat-divider>
    <div class="selector" *ngIf="getRadioButtonsGroups().length > 1">
      <mat-form-field>
        <mat-select tooltip-position="below" matTooltipShowDelay="500" formControlName="radioButtonsGroup"
          [matTooltip]="'igo.geo.layer.legend.selectStyle' | translate" [(value)]="currentRadioButtonsGroup">
          <mat-option *ngFor="let selectorg of getRadioButtonsGroups()" [value]="selectorg">{{selectorg.title}}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <ng-container *ngFor="let bundle of currentRadioButtonsGroup.computedSelectors">
      <h4>{{bundle.title}}</h4>
      <mat-radio-group formControlName="radioButtons" class="mat-typography"
        appearance="legacy" multiple="true">
        <mat-radio-button
          (change)="onSelectionChange(ogcRadioButton)" tooltip-position="below" matTooltipShowDelay="500"
          [matTooltip]="getToolTip(ogcRadioButton)" matTooltipClass="material-tooltip"
          *ngFor="let ogcRadioButton of getCurrentRadioButtonsSelectors(bundle)" [value]="ogcRadioButton">{{ogcRadioButton.title}}
        </mat-radio-button>
      </mat-radio-group>
      <span *ngIf="isLessResults(bundle, 'radio') || isMoreResults(bundle, 'radio')">
        <u class="lessResults mat-typography" *ngIf="isLessResults(bundle, 'radio')" (click)="displayLessResults('radio')">
          {{ 'igo.geo.filter.displayLessResults' | translate }}
        </u>
        <u class="moreResults mat-typography" *ngIf="isMoreResults(bundle, 'radio')" (click)="displayMoreResults('radio')">
          {{ 'igo.geo.filter.displayMoreResults' | translate }}
        </u>
        <br>
      </span>
      <mat-divider class="bundleDivider"></mat-divider>
    </ng-container>
  </div>
</form>